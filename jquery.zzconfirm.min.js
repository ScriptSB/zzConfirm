/*!
* jQuery Plugin zzConfirm v0.1
*
* by zzbaivong
* http://devs.forumvi.com/
*/
(function($){var zzConfirm_selector=[]; jQuery.fn.zzConfirm=function(b){var d=jQuery.extend({content:"B\u1ea1n ch\u1eafc ch\u1ee9?",lang:["C\u00f3","Kh\u00f4ng"],width:"auto",dir:"top",toggle:!1,clickOut:!1,ok:function(d,a){},cancel:function(d,a){}},b),c,a,h=function(a,c){var e=a.outerWidth(),p=a.outerHeight(),l=a.offset().top,b=a.offset().left,f=c.outerWidth(),g=c.outerHeight(),m=l+(p-g)/2,n=b+(e-f)/2,h=d.dir;switch(h){case "top":m=l-g-10;break;case "bottom":m=l+p+10;break;case "left":n=b-f-10;break;case "right":n=b+e+10}c.attr("class", h).show().animate({left:n,top:m,opacity:1})};b=$(this);var f=b.selector,g;zzConfirm_selector.push(f);return b.on("click",function(b){b.preventDefault();c=$(this);var k=function(a){var b=$("#zzConfirm_wrap");a&&(b=$('#zzConfirm_wrap[data-selector="'+a+'"]'));c.removeClass("zzConfirm_active");b.hide().css({left:g,top:"-100px",opacity:0})};$(".zzConfirm_active").not(c).removeClass("zzConfirm_active");if((b=c.hasClass("zzConfirm_active"))&&d.toggle)k();else if(!b){c.addClass("zzConfirm_active");$("#zzConfirm_wrap").length? a=$("#zzConfirm_wrap"):($("body").append('<div id="zzConfirm_wrap" style="width:'+d.width+';left:50%;top:-100px;display:none"><div id="zzConfirm_content"></div><div id="zzConfirm_btn"><div id="zzConfirm_yes"></div><div id="zzConfirm_cancel"></div></div><div id="zzConfirm_arrow"></div></div>'),a=$("#zzConfirm_wrap"),g=($(window).width()-a.outerWidth())/2,a.css("left",g));$("#zzConfirm_content").html(d.content);$("div","#zzConfirm_btn").off("click").on("click",function(){k()});$("#zzConfirm_yes").html(d.lang[0]).on("click", function(){d.ok(c,a)});$("#zzConfirm_cancel").html(d.lang[1]).on("click",function(){d.cancel(c,a)});a.attr("data-selector",f).animate({width:d.width},200,function(){h(c,a)});var e=!0;$(window).resize(function(){e&&(setTimeout(function(){h(c.filter(".zzConfirm_active"),a);e=!0},100),e=!1)});d.clickOut&&$(document).click(function(b){$(b.target).closest(a).length||$(b.target).closest(zzConfirm_selector.join()).length||k(f)})}})};})(jQuery);
