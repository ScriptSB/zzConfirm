/*!
 * jQuery Plugin zzConfirm v0.1
 *
 * by zzbaivong
 * http://devs.forumvi.com/
 */
(function($){var zzConfirm_selector=[]; jQuery.fn.zzConfirm=function(d){var a=jQuery.extend({content:"B\u1ea1n ch\u1eafc ch\u1ee9?",lang:["C\u00f3","Kh\u00f4ng"],width:"auto",dir:"top",toggle:!1,clickOut:!1,ok:function(a,c){},cancel:function(a,c){}},d),k=function(e,c){var m=e.outerWidth(),b=e.outerHeight(),f=e.offset().top,l=e.offset().left,n=c.outerWidth(),d=c.outerHeight(),g=f+(b-d)/2,h=l+(m-n)/2,k=a.dir;switch(k){case "top":g=f-d-10;break;case "bottom":g=f+b+10;break;case "left":h=l-n-10;break;case "right":h=l+m+10}c.attr("class",k).show().animate({left:h, top:g,opacity:1})};d=$(this);var g=d.selector,h;zzConfirm_selector.push(g);return d.on("click",function(e){e.preventDefault();var c=$(this),d=function(b){var a=$("#zzConfirm_wrap");b&&(a=$('#zzConfirm_wrap[data-selector="'+b+'"]'));c.removeClass("zzConfirm_active");a.hide().css({left:h,top:"-100px",opacity:0})};$(".zzConfirm_active").not(c).removeClass("zzConfirm_active");if((e=c.hasClass("zzConfirm_active"))&&a.toggle)d();else if(!e){c.addClass("zzConfirm_active");var b;$("#zzConfirm_wrap").length? b=$("#zzConfirm_wrap"):($("body").append('<div id="zzConfirm_wrap" style="width:'+a.width+';left:50%;top:-100px;display:none"><div id="zzConfirm_content"></div><div id="zzConfirm_btn"><div id="zzConfirm_yes"></div><div id="zzConfirm_cancel"></div></div><div id="zzConfirm_arrow"></div></div>'),b=$("#zzConfirm_wrap"),h=($(window).width()-b.outerWidth())/2,b.css("left",h));$("#zzConfirm_content").html(a.content);$("div","#zzConfirm_btn").off("click").on("click",function(){d()});$("#zzConfirm_yes").html(a.lang[0]).on("click", function(){a.ok(c,b)});$("#zzConfirm_cancel").html(a.lang[1]).on("click",function(){a.cancel(c,b)});b.attr("data-selector",g).animate({width:a.width},200,function(){k(c,b)});var f=!0;$(window).resize(function(){f&&(setTimeout(function(){k(c.filter(".zzConfirm_active"),b);f=!0},100),f=!1)});a.clickOut&&$(document).click(function(a){$(a.target).closest(b).length||$(a.target).closest(zzConfirm_selector.join()).length||d(g)})}})};})(jQuery);
